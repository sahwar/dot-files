# Menu for the XWin tray icon

menu apps {
  # When started from the tray icon, these programs inherit
  # XWin environment so they dont have to be executed as
  # login shell commands
  urxvt                    exec    "zsh -c 'cd; urxvt -fn xft:Consolas:pixelsize=22 -e /bin/zsh'"
  gvim                     exec    "zsh -c 'cd; gvim'"
  SEPARATOR
  # Easy access to background virtualbox instance running ubuntu
  # The zsh login scripts in the vm are responsible for setting up
  # the DISPLAY environment variable correctly
  urxvt-devbox             exec    "rsh devbox 'zsh -l -c urxvt\ -fn\ xft:Ubuntu\\\ Mono:pixelsize=22\ -fn\ xft:Consolas:pixelsize=22\ -letsp\ -3'"
  chromium-devbox          exec    "rsh devbox 'zsh -l -c chromium-browser'"
  gvim-devbox              exec    "rsh devbox 'zsh -l -c gvim\ -f'"
  lxtask-devbox            exec    "rsh devbox 'zsh -l -c lxtask'"
  tmux-devbox              exec    "rsh devbox 'zsh -l -c urxvt\ -title\ tmux\ -fn\ xft:Ubuntu\\\ Mono:pixelsize=22\ -fn\ xft:Consolas:pixelsize=22\ -letsp\ -3\ -e\ sh\ -c\ tmux\\\ attach\\\ \\\|\\\|\\\ tmux\\\ new'"
}

menu root {
  "Edit .XWinrc" exec "zsh -c 'cd; gvim .XWinrc'"
  "Reload .XWinrc" RELOAD
  "Applications" menu apps
  SEPARATOR
}

RootMenu root
