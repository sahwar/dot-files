#!/usr/bin/env python
import sys
import gntp.notifier


def send(description, applicationName='devbox', noteType="Message",
    title="Updates are available", applicationIcon=None, hostname='127.0.0.1',
    password=None, port=23053, sticky=False, priority=None,
    callback=None, notificationIcon=None, identifier=None):

    growl = gntp.notifier.GrowlNotifier(
        applicationName=applicationName,
        notifications=[noteType],
        defaultNotifications=[noteType],
        applicationIcon=applicationIcon,
        hostname=hostname,
        password=password,
        port=port,
        )

    result = growl.register()

    return growl.notify(
        noteType=noteType,
        title=title,
        description=description,
        icon=notificationIcon,
        sticky=sticky,
        priority=priority,
        callback=callback,
        identifier=identifier,
        )


ip = sys.argv[1]
normal_updates = sys.argv[2]
security_updates = sys.argv[3]

send('%s Upgrades\n%s Security updates' %\
        (normal_updates, security_updates,), hostname=ip)
