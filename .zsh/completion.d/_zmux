#compdef zmux

local repo="$HOME/.tmux-sessions"

local curcontext=$curcontext sessions="$repo/*(.N:t)" state line 

declare -A opt_args

_arguments\
	"1: :->cmd"\
	'2: :->session'

case $state in
	cmd)
		_arguments "1:Command:(open register unregister edit)"
		;;
	session)
		_arguments "2:Session:(${~sessions})"
		;;
esac
